"use strict";var _zmEventKit=require("zm-event-kit");Document.prototype.ready=function(t){"complete"!==document.readyState?document.addEventListener("DOMContentLoaded",t):t.call(document)},Document.prototype.onScrollToBottom=function(t){var e=this,n=this.on("scroll",function(o){return e.body.scrollHeight<=e.body.scrollTop+window.innerHeight+1e3?(n.dispose(),t.call(e,o)):void 0});return n},Document.prototype.findAll=function(t){return document.querySelectorAll(t)},Document.prototype.byClass=function(t){return this.getElementsByClassName(t)},Document.prototype.byTag=function(t){return this.getElementsByTagName(t)},Document.prototype.byId=function(t){return document.getElementById(t)},EventTarget.prototype.on=function(t,e){var n=this;return this.addEventListener(t,e),new _zmEventKit.Disposable(function(){return n.removeEventListener(t,e)})},EventTarget.prototype.once=function(t,e){var n=this,o=this.on(t,function(t){return o.dispose()||e.call(n,t)});return o},Element.prototype.find=function(t){return this.querySelector(t)},Element.prototype.findAll=function(t){return this.querySelectorAll(t)},Element.prototype.hide=function(){return this.setAttribute("hidden",!0),this},Element.prototype.show=function(){return this.removeAttribute("hidden"),this},Element.prototype.toggleVisibility=function(){return this.hasAttribute("hidden")?this.show():this.hide(),this},Element.prototype.append=function(t){return this.appendChild(t),this},Element.prototype.appendTo=function(t){return t.appendChild(this),this},Element.prototype.prepend=function(t){return this.insertBefore(t,this.firstChild),this},Element.prototype.prependTo=function(t){return t.insertBefore(this,t.firstChild),this},Element.prototype.addClass=function(t){return this.classList.add(t),this},Element.prototype.removeClass=function(t){return this.classList.remove(t),this},Element.prototype.hasClass=function(t){return this.classList.contains(t)},Element.prototype.removeClass=function(t){return this.classList.remove(t),this},Element.prototype.toggleClass=function(t){return this.classList.toggle(t),this},Element.prototype.setText=function(t){return this.textContent=t,this},Element.prototype.setHTML=function(t){return this.innerHTML=t,this},Element.prototype.isInViewPort=function(){var t=this.getBoundingClientRect();return t.top>=0&&t.bottom<=window.innerHeight},Element.prototype.trigger=function(t,e){var n=void 0;return e?n=new CustomEvent(t,{detail:e}):(n=document.createEvent("HTMLEvents"),n.initEvent(t,!0,!1)),this.dispatchEvent(n),n},Element.prototype.onScrollIntoView=function(t){var e=this;return setImmediate(function(){if(e.isInViewPort())return t.call(e);var n=null,o=document.on("scroll",function(){cancelAnimationFrame(n),n=requestAnimationFrame(function(){e.isInViewPort()&&(o.dispose(),t.call(e))})})}),this},Element.prototype.serializeAssoc=function(){var t={},e=/\r?\n/g,n=/%20/g;return this.findAll("[name]").forEach(function(o){o.name&&("checkbox"!==o.type&&"radio"!==o.type||o.checked)&&"string"==typeof o.value&&(t[o.name]=o.value.replace(e,"\n").replace(n,"+"))}),t},Element.prototype.serialize=function(){return ajax.serialize(this.serializeAssoc())},Element.prototype.setAttr=function(t,e){return this.setAttribute(t,e),this},Element.prototype.removeAttr=function(t){return this.removeAttribute(t),this},window.ajax=function(t,e,n){return new Promise(function(o,r){var i=new XMLHttpRequest;i.open(e,t,!0),i.withCredentials=!0,i.addEventListener("load",function(){i.status>=200&&i.status<400?o(i.responseText):r({code:i.status,response:i.responseText})}),i.addEventListener("error",r),i.send(n)})},window.ajax.serialize=function(t){var e=[];for(var n in t)t[n]&&"object"==typeof t[n]&&(t[n]=window.ajax.serialize(t[n])),e.push(n+"="+encodeURIComponent(t[n]));return e.join("&")},window.debounce=function(t,e){var n=null,o=function(o){var r=this;clearTimeout(n),n=setTimeout(function(){return t.call(r,o)},e)};return o.prototype=t.prototype,o},window.lock=function(t){var e=!1;return function(n){var o=this;return e?e:(e=!0,new Promise(function(e){e(t.call(o,n))}).then(function(t){return e=!1,t}))}},window.memoize=function(t){var e={},n=function(n){return e[n]?e[n]:e[n]=t.call(this,n)};return n.prototype=t.prototype,n},window.extend=function(){for(var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],e=1;e<=arguments.length;++e){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},window.setImmediate=function(t){setTimeout(t,0)},window.reload=function(){var t=arguments.length<=0||void 0===arguments[0]?2e3:arguments[0];setTimeout(function(){return location.reload()},t)},window.getLocationParam=function(t){var e=new RegExp("[?&]"+t+"=[^&]+").exec(location.search);return e?decodeURIComponent(e.toString().replace(/^[^=]+./,"")):!1},Array.prototype.last=function(){return this[this.length-1]},Array.prototype.at=function(t){return t>=0?this[t]:this[this.length+t-1]},Array.prototype.insert=function(t,e){return this.splice(t,0,e),this},NodeList.prototype.forEach=HTMLCollection.prototype.forEach=HTMLFormControlsCollection.prototype.forEach=Array.prototype.forEach,NodeList.prototype.indexOf=HTMLCollection.prototype.indexOf=HTMLFormControlsCollection.prototype.indexOf=Array.prototype.indexOf,NodeList.prototype.last=HTMLCollection.prototype.last=HTMLFormControlsCollection.prototype.last=Array.prototype.last,NodeList.prototype.at=HTMLCollection.prototype.at=HTMLFormControlsCollection.prototype.at=Array.prototype.at,NodeList.prototype.map=HTMLCollection.prototype.map=HTMLFormControlsCollection.prototype.map=Array.prototype.map;